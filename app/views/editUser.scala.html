@(admin: Boolean, editUserForm: Form[forms.EditUserForm], user: models.User)(implicit flash: Flash)

@main(models.Company.name) {
    @if(admin) {
        @adminMenu()
        <h2>Benutzer @user.name verwalten:</h2>
    } else {
        @userMenu()
        <h2>Mein Konto verwalten:</h2>
    }
            <div class="tbl-header">
                <table cellpadding="0" cellspacing="0" border="0">
                    <thead>
                        @if(admin) {
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Passwort</th>
                                <th>Mitarbeiter</th>
                                <th>Aktiv?</th>
                                <th>Distanz (in km)</th>
                            </tr>
                        } else {
                            <tr>
                                <th>Kundennummer</th>
                                <th>Name</th>
                                <th>Passwort</th>
                                <th>Distanz (in km)</th>
                            </tr>
                        }
                    </thead>
                </table>
            </div>
        @helper.form(action = routes.UserController.updateUser(user.id)) {
            <div class="tbl-content">
                <table cellpadding="0" cellspacing="0" border="0">
                    <tbody>
                        @if(admin) {
                            <tr>
                                <td><input type="hidden" name="ID" value="@user.id">@user.id</td>
                                <td><input type="text" name="Name" value="@user.name"/></td>
                                <td><input type="text" name="Password" value="@user.password"/></td>
                                <td><input type="checkbox" name="Admin" value="true" @{
                                    if(user.admin) "checked"
                                }></td>
                                <td><input type="checkbox" name="Active" value="true" @{
                                    if(user.active) "checked"
                                }></td>
                                <td><input type="number" name="Distance" value="@user.distance" min="0" /></td>
                            </tr>
                        } else {
                            <tr>
                                <td><input type="hidden" name="ID" value="@user.id">@user.id</td>
                                <td><input type="text" name="Name" value="@user.name"/></td>
                                <td><input type="text" name="Password" value="@user.password" /></td>
                                <input type="hidden" name="Active" value="true" checked/>
                                <td><input type="number" name="Distance" value="@user.distance" min="0" /></td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
            <input type="submit" value="Speichern" />
        }


    <div id="messageBox">
        @flash.get("success").map { message =>
            <div id="success">
                @message
            </div>
        }
        @flash.get("fail").map { message =>
            <div id="error">
                @message
            </div>
        }
    </div>
}
